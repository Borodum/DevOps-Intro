name: Lab 3 CI/CD Pipeline

on:
  push:
    branches: [ "**" ]  # Run on push to any branch
  workflow_dispatch:     # Allow manual triggering

jobs:
  basic-info:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
      
      - name: Print basic information
        run: |
          echo "üé¨ Workflow triggered by: ${{ github.event_name }}"
          echo "üîÄ Branch: ${{ github.ref_name }}"
          echo "üíª Runner OS: ${{ runner.os }}"
          echo "üìÖ Current date: $(date)"
          echo "üë§ Triggered by: ${{ github.actor }}"
          
      - name: List repository files
        run: |
          echo "üìÅ Repository contents:"
          ls -la

  system-info:
    runs-on: ubuntu-latest
    steps:
      - name: Collect System Information
        run: |
          echo "## üñ•Ô∏è SYSTEM INFORMATION"
          echo "### Operating System"
          uname -a
          echo ""
          echo "### CPU Information"
          nproc
          echo "CPU Cores: $(nproc)"
          echo ""
          echo "### Memory Information"
          free -h
          echo ""
          echo "### Disk Information"
          df -h
          echo ""
          echo "### Current User"
          whoami
          echo ""
          echo "### Environment Variables"
          echo "Runner OS: ${{ runner.os }}"
          echo "Runner Temp Directory: ${{ runner.temp }}"
          echo "Runner Tool Cache: ${{ runner.tool_cache }}"
          echo ""
          echo "### GitHub Context"
          echo "Repository: ${{ github.repository }}"
          echo "Workflow: ${{ github.workflow }}"
          echo "Run ID: ${{ github.run_id }}"
          echo "Run Number: ${{ github.run_number }}"
